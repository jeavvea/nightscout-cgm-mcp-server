# =============================================================================
# NightScout MCP Server - Environment Configuration
# =============================================================================
# Copy this file to .env and configure with your actual values
# For Docker: Set HOST=0.0.0.0
# For local development: Set HOST=localhost
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port number for the MCP server
PORT=8000

# Host to bind to
# - Use 'localhost' for local development to avoid OAuth URL mismatches
# - Use '0.0.0.0' for Docker containers/production to accept external connections
HOST=0.0.0.0

# Logging level: debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# OAuth 2.1 / Amazon Cognito Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# This server requires Amazon Cognito for authentication.
# User-specific NightScout credentials are stored in Cognito custom attributes:
# - custom:nightscout_base_url
# - custom:nightscout_access_token
#
# Setup instructions: See docs/oauth-setup.md
# -----------------------------------------------------------------------------

# AWS region for your Cognito User Pool
COGNITO_REGION=eu-west-1

# Cognito User Pool ID (format: region_alphanumeric) - REQUIRED
COGNITO_USER_POOL_ID=eu-west-1_XXXXXXXXX

# Cognito App Client ID (from Hosted UI app client) - REQUIRED
COGNITO_APP_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxx

# Cognito issuer URL (format: https://cognito-idp.{region}.amazonaws.com/{UserPoolId})
# This is auto-generated from COGNITO_REGION and COGNITO_USER_POOL_ID if not provided
COGNITO_ISSUER=https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_XXXXXXXXX

# Cognito domain for authentication (format: {your-domain}.auth.{region}.amazoncognito.com)
# This is auto-generated if not provided
COGNITO_DOMAIN=your-domain.auth.eu-west-1.amazoncognito.com

# -----------------------------------------------------------------------------
# NightScout Configuration (NOT USED - stored per-user in Cognito)
# -----------------------------------------------------------------------------
# NOTE: These environment variables are NOT used by the current implementation.
# NightScout credentials are retrieved from each user's Cognito custom attributes.
# Keep these for reference or future development only.
# -----------------------------------------------------------------------------
# NIGHTSCOUT_URL=https://your-nightscout-instance.herokuapp.com
# NIGHTSCOUT_ACCESS_TOKEN=your-access-token-here
